<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link href="./static/css/base.css" rel="stylesheet"> -->
    <link href="./static/css/element@2.2.6.css" rel="stylesheet">
    <script src="./static/js/vue@3.2.36.js"></script>
    <script src="./static/js/elementPlus@2.2.6.js"></script>
    <script src="./static/js/elementPlus-zhcn.js"></script>
    <script src="./static/js/elementPlusIcon@2.0.4.js"></script>
    <script src="./static/js/init.js"></script>
    <title>CatToolÂØºËà™</title>
    <link href="./static/css/common.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="./static/css/fonts/iconfont.css">
    <link rel="stylesheet" href="./static/css/iconfonts/iconfont.css">
    <link href="./static/css/help.css" rel="stylesheet" type="text/css"/>
    <link rel="shortcut icon" href="imgs/favicon.ico">
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
</head>

<body>
    <div id="app">
        <div class="navheader">
            <div class="logobox" >
                <!-- <a href=""><img src="./static/img/navbar.png" alt=""></a> -->
                <h1><span>cat </span> tool 
                    <el-input v-model="input" style="width: 240px;margin-left: 10px;" placeholder="Ê®°Á≥äÊ£ÄÁ¥¢" @input="handleSearch" clearable></el-input>
                    <el-button @click="toggleTheme" style="margin-left: 10px;">
                        {{ isDark ? '‚òÄÔ∏è' : 'üåô' }}
                    </el-button>
                    <span style="margin-left: 20px;font-size: 14px;font-weight: 400;color: #aaa;" v-if="searchlists.length">ÂÖ± {{searchlists.length}} ‰∏™Êî∂Ëóè</span>
                    <!-- <el-button @click="showAddDialog = true">Ê∑ªÂä†ÈìæÊé•ÔºàÊú¨Âú∞ÁºìÂ≠òÔºâ</el-button>
                    <el-button @click="exportExcel">ÂØºÂá∫Excel</el-button>
                    <el-button @click="clean">ÊÅ¢Â§çÁΩëÁ´ô</el-button> -->
                </h1>
            </div>
        </div>
        <div class="navbody">
            <div v-if="input" style="padding: 20px;">
                <h2 style="margin-bottom: 16px;" class="sreachtext">ÂÖ±Êü•ËØ¢Âá∫ <span style="color: #f00;">{{searchlists.length}} </span> Êù°Êï∞ÊçÆ</h2>
                <div>
                    <el-row :gutter="16" >
                        <el-col :xs="8" :sm="6" :md="4" :lg="4" :xl="3" v-for="(item,idx) in searchlists" :key="idx">
                            <div class="grid-content ep-bg-purple" :title="`ÂêçÁß∞Ôºö${item.title} &#10;ÊèèËø∞Ôºö${item.desc}`">
                                <a :href="item.url" target="_blank">
                                    <div class="appimg">
                                        <img :src="item.imgurl" alt="">
                                    </div>
                                    <div class="app_bg">
                                        <img :src="item.imgurl" alt="">
                                    </div>
                                    <div class="app_text">
                                        <div class="grid-content_title" v-html="highlightText(item.title, input)">
                                            {{item.title}}
                                        </div>
                                        <div class="desctext" v-html="highlightText(item.desc, input)">
                                            {{item.desc}} 
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </el-col>
                    </el-row>
                </div>
                
            </div>
            <el-tabs v-else v-model="activeName" class="demo-tabs navtab" tab-position="left" @tab-click="handleClick">
                <el-tab-pane 
                    v-for="cat in categoryList" 
                    :key="cat.id" 
                    :label="cat.label" 
                    :name="cat.id">
                    <div class="navbody-box">
                        <el-scrollbar class="noscoll">
                            <div class="nav_tab_body" v-for="(navs,index) in cat.list" :key="index" >
                                <div class="title" >{{navs.title}} </div>
                                <el-row :gutter="16" >
                                    <el-col :xs="8" :sm="6" :md="4" :lg="4" :xl="3" v-for="(item,idx) in navs.children" :key="idx">
                                        <div class="grid-content ep-bg-purple" :title="`ÂêçÁß∞Ôºö${item.title} &#10;ÊèèËø∞Ôºö${item.desc}`">
                                            <a :href="item.url" target="_blank">
                                                <div class="appimg">
                                                    <img :src="item.imgurl" alt="">
                                                </div>
                                                <div class="app_bg">
                                                    <img :src="item.imgurl" alt="">
                                                </div>
                                                <div class="app_text">
                                                    <div class="grid-content_title">
                                                        {{item.title}}
                                                    </div>
                                                    <div class="desctext">
                                                        {{item.desc}} 
                                                    </div>
                                                </div>
                                            </a>
                                            <div class="delicon" @click.stop="deleteLink(cat.id, navs.title, item)">√ó</div>
                                        </div>
                                    </el-col>
                                </el-row>
                            </div>
                        </el-scrollbar>
                    </div>
                </el-tab-pane>
            </el-tabs>
        </div>
        <div :class="isShowlastpage?'gg_box gg_open':'gg_box'" v-if="false">
            <span class="gg_label" v-show="isShowlastpage" @click="isShowlastpage=false">ÊúÄËøë‰∏äÊñ∞</span>
            <div class="gg_box_header">
                <h2>ÊúÄËøë‰∏äÊñ∞</h2>
                <span>
                    <i class="icon iconfont icon-guanbi1" @click="isShowlastpage=true"></i>
                </span>
            </div>
            <ul>
                <li v-for="(item ,index) in lastapp" :key="item">
                    <div class="lastapp-item" :title="`ÂêçÁß∞Ôºö${item.title} &#10;ÊèèËø∞Ôºö${item.desc}`">
                        <a :href="item.url" target="_blank">
                            <div class="appimg">
                                <img :src="item.imgurl" alt="">
                            </div>
                            <div class="app_bg">
                                <img :src="item.imgurl" alt="">
                            </div>
                            <div class="app_text">
                                <div class="grid-content_title">
                                    {{item.title}}
                                </div>
                                <div class="desctext">
                                    {{item.desc}}
                                </div>
                            </div>
                        </a>
                    </div>
                </li>
            </ul>
        </div>
        <div style="position: fixed; bottom:60px;right:0">
           <div style="font-size: 12px;margin-bottom: 8px;text-align: center;letter-spacing: 2px;">Âª∫ËÆÆÊ∑ªÂä†ÈìæÊé•</div> 
            <a target="_blank" href="https://qm.qq.com/cgi-bin/qm/qr?k=fjDFCuNRXjRmFIWBllfg0k_EtpJ_PTcp&jump_from=webapi&authKey=6wclgcMhp7+WEVYoinsU+KxtuKlhvkTcn6tb8RIgwQfN/Gqw2OVYpOdQY3WtjPmx"><img border="0" src="//pub.idqqimg.com/wpa/images/group.png" alt="cattool ÈìæÊé•ÂØºËà™Â¢ûÂà†‰∫§" title="cattool ÈìæÊé•ÂØºËà™Â¢ûÂà†‰∫§"></a>
        </div>
        <el-dialog 
            title="Ê∑ªÂä†Êñ∞ÈìæÊé•" 
            v-model="showAddDialog" 
            width="40%"
            @close="addForm = {
                password: '',
                category: '',
                subCategory: '',
                title: '',
                imgurl: '',
                desc: '',
                url: ''
            }">
            <el-form :model="addForm" label-width="100px">
                <el-form-item label="ÂàÜÁ±ª" prop="category">
                    <el-select v-model="addForm.category" placeholder="ËØ∑ÈÄâÊã©ÂàÜÁ±ª">
                        <div @click="showNewCategoryDialog = true" class="linkselect">Êñ∞Â¢ûÂàÜÁ±ª</div>
                        <el-option 
                            v-for="cat in categoryList" 
                            :key="cat.id"
                            :label="cat.label"
                            :value="cat.id">
                        </el-option>
                       
                    </el-select>
                </el-form-item>
                <el-form-item label="Â≠êÊ†áÁ≠æ" prop="subCategory">
                    <el-select v-model="addForm.subCategory" placeholder="ËØ∑ÈÄâÊã©Â≠êÊ†áÁ≠æ">
                        <div @click="showNewSubDialog = true" class="linkselect">Êñ∞Â¢ûÂ≠êÊ†áÁ≠æ</div>
                        <el-option 
                            v-for="(sub, index) in getSubCategories" 
                            :key="subIndex"
                            :label="sub.title"
                            :value="sub.title">
                        </el-option>
                    </el-select>
                </el-form-item>
                <el-form-item label="ÈìæÊé•ÂêçÁß∞" prop="title">
                    <el-input v-model="addForm.title"></el-input>
                </el-form-item>
                <el-form-item label="ÈìæÊé•ÂõæÁâá" prop="imgurl">
                    <el-input v-model="addForm.imgurl" placeholder="ËæìÂÖ•ÂõæÁâáURL"></el-input>
                </el-form-item>
                <el-form-item label="ÈìæÊé•ÊèèËø∞" prop="desc">
                    <el-input v-model="addForm.desc" type="textarea"></el-input>
                </el-form-item>
                <el-form-item label="ÈìæÊé•Âú∞ÂùÄ" prop="url">
                    <el-input v-model="addForm.url" placeholder="ËæìÂÖ•http/httpsÂú∞ÂùÄ"></el-input>
                </el-form-item>
            </el-form>
            <template #footer>
                <el-button @click="showAddDialog = false">ÂèñÊ∂à</el-button>
                <el-button type="primary" @click="handleAddSubmit">Á°ÆÂÆöÊ∑ªÂä†</el-button>
            </template>
        </el-dialog>
        <el-dialog title="Êñ∞Â¢ûÂàÜÁ±ª" v-model="showNewCategoryDialog" width="400px">
            <el-form :model="newCategoryForm">
                <el-form-item label="ÂàÜÁ±ªÂêçÁß∞" prop="name">
                    <el-input v-model="newCategoryForm.name"></el-input>
                </el-form-item>
            </el-form>
            <template #footer>
                <el-button @click="showNewCategoryDialog = false">ÂèñÊ∂à</el-button>
                <el-button type="primary" @click="handleNewCategory">Á°ÆËÆ§Ê∑ªÂä†</el-button>
            </template>
        </el-dialog>
        
        <el-dialog title="Êñ∞Â¢ûÂ≠êÊ†áÁ≠æ" v-model="showNewSubDialog" width="400px">
            <el-form :model="newSubForm">
                <el-form-item label="Â≠êÊ†áÁ≠æÂêçÁß∞" prop="name">
                    <el-input v-model="newSubForm.name"></el-input>
                </el-form-item>
            </el-form>
            <template #footer>
                <el-button @click="showNewSubDialog = false">ÂèñÊ∂à</el-button>
                <el-button type="primary" @click="handleNewSub">Á°ÆËÆ§Ê∑ªÂä†</el-button>
            </template>
        </el-dialog>
    </div>
</body>

</html>
<script src="./static/js/data.js?v20250812900"></script>
<script src="./static/data/logdata.js"></script>
<script>
    const App = {
        setup() {
            const { proxy } = getCurrentInstance();
            const { computed} = Vue;
            function initState() {
                return {
                    input :'',
                    activeName:'1',

                    // ËøëÊúü‰∏äÊñ∞
                    lastapp:lastapps,
                    isShowlastpage:true,
                    srcList:srcLists,
                    url:srcLists[0],
                    searchlists:[],
                    isDark: localStorage.getItem('theme') === 'dark',
                    showAddDialog: false,
                    addForm: {
                        category: '',
                        subCategory: '',
                        title: 'ÁôæÂ∫¶',
                        imgurl: 'https://bkimg.cdn.bcebos.com/pic/5d6034a85edf8db177f09dce0723dd54574e74ba',
                        desc: 'ÁôæÂ∫¶ÊêúÁ¥¢',
                        url: 'https://www.baidu.com/'
                    },
                    showNewCategoryDialog: false,
                    showNewSubDialog: false,
                    newCategoryForm: { name: '' },
                    newSubForm: { name: '' },
                    
                }
            }
            const state = reactive(initState());
            // ÂàùÂßãÂåñÊó∂Â∫îÁî®‰∏ªÈ¢ò
            onMounted(() => {
                document.documentElement.classList.toggle('dark-theme', state.isDark);
                // Âä†ËΩΩÂàÜÁ±ªÊï∞ÊçÆ
                const storedCategories = localStorage.getItem('cattool_categories');
                if (storedCategories) {
                    categoryList.splice(0, categoryList.length, ...JSON.parse(storedCategories));
                }
                loadLocalStorageData();  // Êñ∞Â¢ûÁºìÂ≠òÊï∞ÊçÆÂä†ËΩΩ
            });
            const categoryList = Vue.reactive([
                { id: '1', label: 'ÂÆûÁî®Â∑•ÂÖ∑', list: navLists },
                { id: '2', label: 'ËÆæËÆ°Á©∫Èó¥', list: designspaces },
                { id: '3', label: 'ÈáäÊîæÂ§ßÊãõ', list: skillLists },
                { id: '4', label: 'ËΩØ‰ª∂‰∏ãËΩΩ', list: softwarelist },
                { id: '5', label: 'Âü∫Á°ÄÊïôÁ®ã', list: studylists },
                { id: '6', label: 'ËÆæËÆ°ËßÑËåÉ', list: designnorm },
                { id: '7', label: 'ÂõæÊ†á‰∏ìÊ†è', list: iconDesigns },
                { id: '8', label: 'ÂèØËßÜËÆæËÆ°', list: viewlist },
                { id: '9', label: 'ÁºñÁ®ãÂ∑•ÂÖ∑', list: devlist },
                { id: '10', label: 'Êï∞ÊçÆ‰∏≠ÂøÉ', list: datalists },
                { id: '11', label: '‰∫ßÂìÅÁªèÁêÜ', list: PMlists },
                { id: '12', label: 'AIÁßëÊäÄ', list: AIlists },
                { id: '13', label: 'SDÊ®°Âûã', list: SDlists },
                { id: '14', label: 'VIPÈÄöÈÅì', list: viplists },
                { id: '15', label: 'MACÂ∑•ÂÖ∑ÁÆ±', list: mactools },
                { id: '16', label: 'ÁΩëÁ´ôÊ¨£Ëµè', list: webLists },
                { id: '17', label: 'Ëá™Â≠¶Á©∫Èó¥', list: selfstudylists },
                { id: '18', label: 'Ë∂£Âë≥AI', list: ai2025lists },
                { id: '19', label: 'Âä®ÊïàÁ´ôÁÇπ', list: effectweblists },
                { id: '20', label: 'Ëá™Â™í‰ΩìËøêËê•', list: selfmedialists  },
                { id: '21', label: 'ÊêûÂâØ‰∏ö', list: Salelists  },
            ]);
            const newName = computed(() => {
                  
            })
            const clean = () => {
                localStorage.removeItem('cattool_links');
                localStorage.removeItem('cattool_categories');
                proxy.$message.success('ÁºìÂ≠òÂ∑≤Ê∏ÖÈô§ÔºåÂç≥Â∞ÜÂà∑Êñ∞È°µÈù¢');
                setTimeout(() => window.location.reload(), 1000);
            }
            const formRules = {
                category: [{ required: true, message: 'ËØ∑ÈÄâÊã©ÂàÜÁ±ª', trigger: 'change' }],
                subCategory: [{ required: true, message: 'ËØ∑ÈÄâÊã©Â≠êÊ†áÁ≠æ', trigger: 'change' }],
                title: [{ required: true, message: 'ËØ∑ËæìÂÖ•ÈìæÊé•ÂêçÁß∞', trigger: 'blur' }],
                imgurl: [{ required: true, message: 'ËØ∑ËæìÂÖ•ÂõæÁâáÂú∞ÂùÄ', trigger: 'blur' }],
                desc: [{ required: true, message: 'ËØ∑ËæìÂÖ•ÈìæÊé•ÊèèËø∞', trigger: 'blur' }],
                url: [
                    { required: true, message: 'ËØ∑ËæìÂÖ•ÈìæÊé•Âú∞ÂùÄ', trigger: 'blur' },
                    { type: 'url', message: 'ËØ∑ËæìÂÖ•ÊúâÊïàÁöÑURLÂú∞ÂùÄ', trigger: 'blur' }
                ]
            };
            // Êñ∞Â¢ûÁºìÂ≠òÊï∞ÊçÆÂä†ËΩΩÊñπÊ≥ï
            function loadLocalStorageData() {
                const storedData = JSON.parse(localStorage.getItem('cattool_links') || '[]');
                storedData.forEach(item => {
                    const category = categoryList.find(c => c.id === item.category);
                    const subCategory = category?.list.find(g => g.title === item.subCategory);
                    if (subCategory) {
                        // Ê£ÄÊü•ÊòØÂê¶Â∑≤Â≠òÂú®Áõ∏ÂêåÊù°ÁõÆ
                        const exists = subCategory.children.some(child => 
                            child.title === item.title && 
                            child.url === item.url
                        );
                        if (!exists) {
                            subCategory.children.push({
                                title: item.title,
                                desc: item.desc,
                                url: item.url,
                                imgurl: item.imgurl
                            });
                        }
                    }
                });
            }
            const getSubCategories = computed(() => {
                const category = categoryList.find(c => c.id === state.addForm.category);
                 // Â∫îËØ•ËøîÂõû‰∫åÁ∫ßÂàÜÁ±ªÁöÑÂàÜÁªÑÊ†áÈ¢òÂàóË°®
                return category?.list.map(item => ({
                    title: item.title,
                    id: item.title // ‰ΩøÁî®ÂàÜÁªÑÊ†áÈ¢ò‰Ωú‰∏∫ÂîØ‰∏ÄÊ†áËØÜ
                })) || [];
            });
            function handleAddSubmit() {
                
                // ÊâæÂà∞ÂØπÂ∫îÁöÑÂàÜÁ±ªÂíåÂ≠êÂàÜÁ±ª
                const category = categoryList.find(c => c.id === state.addForm.category);
                // ÈÄöËøáÂàÜÁªÑÊ†áÈ¢òÊü•ÊâæÂØπÂ∫îÂàÜÁªÑ
                const subCategory = category?.list.find(
                    item => item.title === state.addForm.subCategory
                );
                
                if (subCategory && subCategory.children) {
                    // ÂàõÂª∫Êñ∞ÈìæÊé•ÂØπË±°
                    const newLink = {
                        title: state.addForm.title,
                        desc: state.addForm.desc,
                        url: state.addForm.url,
                        imgurl: state.addForm.imgurl
                    };
                    subCategory.children.push(newLink);
                    // ‰øùÂ≠òÂà∞Êú¨Âú∞Â≠òÂÇ®
                    saveToLocalStorage(newLink);
                    proxy.$message.success('Ê∑ªÂä†ÊàêÂäü');
                    state.showAddDialog = false; 
                } else {
                    proxy.$message.error('Ê∑ªÂä†Â§±Ë¥•ÔºåËØ∑Ê£ÄÊü•ÂàÜÁ±ªÈÄâÊã©');
                }
            }
            // Êñ∞Â¢ûÊú¨Âú∞Â≠òÂÇ®ÊñπÊ≥ï
            function saveToLocalStorage(newLink) {
                const storedData = JSON.parse(localStorage.getItem('cattool_links') || '[]');
                storedData.push({
                    ...newLink,
                    category: state.addForm.category,
                    subCategory: state.addForm.subCategory
                });
                localStorage.setItem('cattool_links', JSON.stringify(storedData));
            }
            // Êñ∞Â¢ûÂØºÂá∫ExcelÊñπÊ≥ï
            function exportExcel() {
                /* ÂàõÂª∫Â∑•‰ΩúË°® */
                const data = categoryList.flatMap(cat => 
                    cat.list.flatMap(group => 
                        group.children.map(item => ({
                            ÂàÜÁ±ª: cat.label,
                            Â≠êÂàÜÁ±ª: group.title,
                            ÂêçÁß∞: item.title,
                            ÊèèËø∞: item.desc,
                            ÈìæÊé•: item.url,
                            ÂõæÁâá: item.imgurl
                        }))
                    )
                );
                
                // ÂêàÂπ∂Êú¨Âú∞Â≠òÂÇ®Êï∞ÊçÆ
                const storedData = JSON.parse(localStorage.getItem('cattool_links') || '[]');
                storedData.forEach(item => {
                    data.push({
                        ÂàÜÁ±ª: categoryList.find(c => c.id === item.category)?.label || 'Êú™Áü•ÂàÜÁ±ª',
                        Â≠êÂàÜÁ±ª: item.subCategory,
                        ÂêçÁß∞: item.title,
                        ÊèèËø∞: item.desc,
                        ÈìæÊé•: item.url,
                        ÂõæÁâá: item.imgurl
                    });
                });

                const worksheet = XLSX.utils.json_to_sheet(data);

                // Êñ∞Â¢ûÂàóÂÆΩËÆæÁΩÆÔºàÂü∫‰∫éÂ≠óÁ¨¶ÂÆΩÂ∫¶ËÆ°ÁÆóÔºåÁ∫¶1Â≠óÁ¨¶=7ÂÉèÁ¥†Ôºâ
                worksheet['!cols'] = [
                    { wch: 25 },  // ÂàÜÁ±ªÂàó (25*7‚âà175px)
                    { wch: 25 },  // Â≠êÂàÜÁ±ªÂàó
                    { wch: 25 },  // ÂêçÁß∞Âàó
                    { wch: 72 },  // ÊèèËø∞Âàó (72*7‚âà500px)
                    { wch: 86 },  // ÈìæÊé•Âàó (86*7‚âà600px)
                    { wch: 40 }   // ÂõæÁâáÂàó
                ];
                const workbook = XLSX.utils.book_new();
                XLSX.utils.book_append_sheet(workbook, worksheet, "ÈìæÊé•Êï∞ÊçÆ");
                
                /* ÁîüÊàêÊñá‰ª∂Âπ∂‰∏ãËΩΩ */
                XLSX.writeFile(workbook, "cattool_links.xlsx");
            }
            
            function toggleTheme() {
                state.isDark = !state.isDark;
                localStorage.setItem('theme', state.isDark ? 'dark' : 'light');
                document.documentElement.classList.toggle('dark-theme', state.isDark);
            }
            // ‰øÆÊîπËøáÊª§ÈÄªËæëÈÉ®ÂàÜ
            const filteredCategory = computed(() => 
                categoryList.map(cat => ({
                    ...cat,
                    list: filterList(cat.list, state.input)
                }))
            );
            // Êñ∞Â¢ûÊêúÁ¥¢ÁªìÊûúËÆ°ÁÆóÂ±ûÊÄß
            const searchResults = computed(() => {
                return categoryList.flatMap(cat => 
                    filterList(cat.list, state.input)
                        .flatMap(group => group.children || [])
                );
            });
            // ‰øÆÊîπÂ§ÑÁêÜÊêúÁ¥¢ÁöÑÊñπÊ≥ï
            function handleSearch(val) {
                state.input = val.toLowerCase();
                state.searchlists = searchResults.value;  // Êõ¥Êñ∞ÊêúÁ¥¢ÁªìÊûúÂàóË°®
            }
            
            // Ê∑ªÂä†ËøáÊª§ËÆ°ÁÆóÂ±ûÊÄß
            const filteredLists = Vue.computed(() => ({
                navList: filterList(navLists, state.input),
                designspace: filterList(designspaces, state.input),
                // ÈáçÂ§çÊ∑ªÂä†ÂÖ∂‰ªñÈúÄË¶ÅËøáÊª§ÁöÑÂàóË°®...
                studylist: filterList(studylists, state.input),
                skillList: filterList(skillLists, state.input),
                // ÂÖ∂‰ªñÂàóË°®ËøáÊª§ÈÄªËæëÂêå‰∏ä...
            }));

            // ÂàóË°®ËøáÊª§ÊñπÊ≥ï
            function filterList(list, keyword) {
                if (!keyword) return list;
                return list.filter(group => {
                    return group?.title?.toLowerCase().includes(keyword) ||  // Ê∑ªÂä†ÂèØÈÄâÈìæÊìç‰ΩúÁ¨¶
                        group?.children?.some(item =>  // Ê∑ªÂä†ÂèØÈÄâÈìæÊìç‰ΩúÁ¨¶
                            item?.title?.toLowerCase().includes(keyword) || 
                            item?.desc?.toLowerCase().includes(keyword)
                        );
                }).map(group => ({
                    ...group,
                    children: group.children?.filter(item =>  // Ê∑ªÂä†ÂèØÈÄâÈìæÊìç‰ΩúÁ¨¶
                        item?.title?.toLowerCase().includes(keyword) || 
                        item?.desc?.toLowerCase().includes(keyword)
                    )
                }));
            }
            function handleClick (tab, event) {
                console.log(tab, event)
            }
            function highlightText(text, keyword) {
                if (!keyword || !text) return text;
                const regex = new RegExp(`(${keyword})`, 'gi');
                return text.replace(regex, '<span class="highlight">$1</span>');
            }
            function deleteLink(categoryId, subCategoryTitle, item) {
                const category = categoryList.find(c => c.id === categoryId);
                const subCategory = category?.list.find(g => g.title === subCategoryTitle);
                
                if (subCategory) {
                    const index = subCategory.children.findIndex(child => 
                        child.title === item.title && 
                        child.url === item.url
                    );
                    if (index > -1) {
                        subCategory.children.splice(index, 1);
                        // Êõ¥Êñ∞ÂàÜÁ±ªÁªìÊûÑÁºìÂ≠ò
                        localStorage.setItem('cattool_categories', JSON.stringify(categoryList));
                    }
                    
                    // ÂéüÊúâÈìæÊé•ÁºìÂ≠òÊ∏ÖÁêÜÈÄªËæë...
                    const storedData = JSON.parse(localStorage.getItem('cattool_links') || '[]');
                    const filtered = storedData.filter(link => 
                        !(link.category === categoryId &&
                        link.subCategory === subCategoryTitle &&
                        link.title === item.title &&
                        link.url === item.url)
                    );
                    localStorage.setItem('cattool_links', JSON.stringify(filtered));
                    
                    proxy.$message.success('Âà†Èô§ÊàêÂäü');
                }
            }
            function handleNewCategory() {
                if (!state.newCategoryForm.name) {
                    proxy.$message.error('ËØ∑ËæìÂÖ•ÂàÜÁ±ªÂêçÁß∞');
                    return;
                }
                
                const newId = (categoryList.length + 1).toString();
                categoryList.push({
                    id: newId,
                    label: state.newCategoryForm.name,
                    list: []
                });
                
                state.showNewCategoryDialog = false;
                state.newCategoryForm.name = '';
                proxy.$message.success('ÂàÜÁ±ªÊ∑ªÂä†ÊàêÂäü');
                localStorage.setItem('cattool_categories', JSON.stringify(categoryList));
            }

            function handleNewSub() {
                if (!state.addForm.category) {
                    proxy.$message.error('ËØ∑ÂÖàÈÄâÊã©ÂàÜÁ±ª');
                    return;
                }
                if (!state.newSubForm.name) {
                    proxy.$message.error('ËØ∑ËæìÂÖ•Â≠êÊ†áÁ≠æÂêçÁß∞');
                    return;
                }
                
                const category = categoryList.find(c => c.id === state.addForm.category);
                if (category) {
                    category.list.push({
                        title: state.newSubForm.name,
                        children: []
                    });
                    state.showNewSubDialog = false;
                    state.newSubForm.name = '';
                    proxy.$message.success('Â≠êÊ†áÁ≠æÊ∑ªÂä†ÊàêÂäü');
                }
                localStorage.setItem('cattool_categories', JSON.stringify(categoryList));
            }
            return {
                ...toRefs(state),
                getSubCategories, // Êö¥Èú≤ËÆ°ÁÆóÂ±ûÊÄß
                handleAddSubmit,
                toggleTheme,
                highlightText, // Êö¥Èú≤È´ò‰∫ÆÊñπÊ≥ï
                handleClick,
                handleSearch,  // Êö¥Èú≤ÊêúÁ¥¢ÊñπÊ≥ï
                categoryList: filteredCategory,  // Êö¥Èú≤ËøáÊª§ÂêéÁöÑÂàóË°®
                exportExcel,
                deleteLink,  // Êö¥Èú≤Âà†Èô§ÊñπÊ≥ï
                handleNewCategory,
                handleNewSub,
                clean,  // Êö¥Èú≤Ê∏ÖÁêÜÊñπÊ≥ï
            }
        }
    }
    mountApp(App);
</script>
<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?d7a45917737db687fa00c6addb47e3b2";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
    