<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <link href="./static/css/base.css" rel="stylesheet"> -->
    <link href="./static/css/element@2.2.6.css" rel="stylesheet">
    <script src="./static/js/vue@3.2.36.js"></script>
    <script src="./static/js/elementPlus@2.2.6.js"></script>
    <script src="./static/js/elementPlus-zhcn.js"></script>
    <script src="./static/js/elementPlusIcon@2.0.4.js"></script>
    <script src="./static/js/init.js"></script>
    <title>CatToolÂØºËà™</title>
    <link href="./static/css/common.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="./static/css/fonts/iconfont.css">
    <link rel="stylesheet" href="./static/css/iconfonts/iconfont.css">
    <link href="./static/css/help.css" rel="stylesheet" type="text/css"/>
    <link rel="shortcut icon" href="imgs/favicon.ico">
</head>

<body>
    <div id="app">
        <div class="navheader">
            <div class="logobox" >
                <!-- <a href=""><img src="./static/img/navbar.png" alt=""></a> -->
                <h1><span>cat </span> tool 
                    <el-input v-model="input" style="width: 240px;margin-left: 10px;" placeholder="Ê®°Á≥äÊ£ÄÁ¥¢" @input="handleSearch" clearable></el-input>
                    <el-button @click="toggleTheme" style="margin-left: 10px;">
                        {{ isDark ? '‚òÄÔ∏è' : 'üåô' }}
                    </el-button>
                </h1>
                
                
            </div>
        </div>
        <div class="navbody">
            <div v-if="input" style="padding: 20px;">
                <h2 style="margin-bottom: 16px;" class="sreachtext">ÂÖ±Êü•ËØ¢Âá∫ <span style="color: #f00;">{{searchlists.length}} </span> Êù°Êï∞ÊçÆ</h2>
                <div>
                    <el-row :gutter="16" >
                        <el-col :xs="8" :sm="6" :md="4" :lg="4" :xl="3" v-for="(item,idx) in searchlists" :key="idx">
                            <div class="grid-content ep-bg-purple" :title="`ÂêçÁß∞Ôºö${item.title} &#10;ÊèèËø∞Ôºö${item.desc}`">
                                <a :href="item.url" target="_blank">
                                    <div class="appimg">
                                        <img :src="item.imgurl" alt="">
                                    </div>
                                    <div class="app_bg">
                                        <img :src="item.imgurl" alt="">
                                    </div>
                                    <div class="app_text">
                                        <div class="grid-content_title" v-html="highlightText(item.title, input)">
                                            {{item.title}}
                                        </div>
                                        <div class="desctext" v-html="highlightText(item.desc, input)">
                                            {{item.desc}} 
                                        </div>
                                    </div>
                                </a>
                            </div>
                        </el-col>
                    </el-row>
                </div>
                
            </div>
            <el-tabs v-else v-model="activeName" class="demo-tabs navtab" tab-position="left" @tab-click="handleClick">
                <el-tab-pane 
                    v-for="cat in categoryList" 
                    :key="cat.id" 
                    :label="cat.label" 
                    :name="cat.id">
                    <div class="navbody-box">
                        <el-scrollbar class="noscoll">
                            <div class="nav_tab_body" v-for="(navs,index) in cat.list" :key="index" >
                                <div class="title" >{{navs.title}}</div>
                                <el-row :gutter="16" >
                                    <el-col :xs="8" :sm="6" :md="4" :lg="4" :xl="3" v-for="(item,idx) in navs.children" :key="idx">
                                        <div class="grid-content ep-bg-purple" :title="`ÂêçÁß∞Ôºö${item.title} &#10;ÊèèËø∞Ôºö${item.desc}`">
                                            <a :href="item.url" target="_blank">
                                                <div class="appimg">
                                                    <img :src="item.imgurl" alt="">
                                                </div>
                                                <div class="app_bg">
                                                    <img :src="item.imgurl" alt="">
                                                </div>
                                                <div class="app_text">
                                                    <div class="grid-content_title">
                                                        {{item.title}}
                                                    </div>
                                                    <div class="desctext">
                                                        {{item.desc}} 
                                                    </div>
                                                </div>
                                            </a>
                                        </div>
                                    </el-col>
                                </el-row>
                            </div>
                        </el-scrollbar>
                    </div>
                </el-tab-pane>
            </el-tabs>
        </div>
        <div :class="isShowlastpage?'gg_box gg_open':'gg_box'" >
            <span class="gg_label" v-show="isShowlastpage" @click="isShowlastpage=false">ÊúÄËøë‰∏äÊñ∞</span>
            <div class="gg_box_header">
                <h2>ÊúÄËøë‰∏äÊñ∞</h2>
                <span>
                    <i class="icon iconfont icon-guanbi1" @click="isShowlastpage=true"></i>
                </span>
            </div>
            <ul>
                <li v-for="(item ,index) in lastapp" :key="item">
                    <div class="lastapp-item" :title="`ÂêçÁß∞Ôºö${item.title} &#10;ÊèèËø∞Ôºö${item.desc}`">
                        <a :href="item.url" target="_blank">
                            <div class="appimg">
                                <img :src="item.imgurl" alt="">
                            </div>
                            <div class="app_bg">
                                <img :src="item.imgurl" alt="">
                            </div>
                            <div class="app_text">
                                <div class="grid-content_title">
                                    {{item.title}}
                                </div>
                                <div class="desctext">
                                    {{item.desc}}
                                </div>
                            </div>
                        </a>
                    </div>
                </li>
            </ul>
        </div>
        <div style="position: fixed; bottom:60px;right:0">
           <div style="font-size: 12px;margin-bottom: 8px;text-align: center;letter-spacing: 2px;">Âª∫ËÆÆÊ∑ªÂä†ÈìæÊé•</div> 
            <a target="_blank" href="https://qm.qq.com/cgi-bin/qm/qr?k=fjDFCuNRXjRmFIWBllfg0k_EtpJ_PTcp&jump_from=webapi&authKey=6wclgcMhp7+WEVYoinsU+KxtuKlhvkTcn6tb8RIgwQfN/Gqw2OVYpOdQY3WtjPmx"><img border="0" src="//pub.idqqimg.com/wpa/images/group.png" alt="cattool ÈìæÊé•ÂØºËà™Â¢ûÂà†‰∫§" title="cattool ÈìæÊé•ÂØºËà™Â¢ûÂà†‰∫§"></a>
        </div>
    </div>
</body>

</html>
<script src="./static/js/data.js"></script>
<script src="./static/data/logdata.js"></script>
<script>
    const App = {
        setup() {
            const { proxy } = getCurrentInstance();
            const { computed} = Vue;
            function initState() {
                return {
                    input :'',
                    activeName:'1',

                    // ËøëÊúü‰∏äÊñ∞
                    lastapp:lastapps,
                    isShowlastpage:true,
                    srcList:srcLists,
                    url:srcLists[0],
                    searchlists:[],
                    isDark: localStorage.getItem('theme') === 'dark'
                }
            }
            const state = reactive(initState());
            // ÂàùÂßãÂåñÊó∂Â∫îÁî®‰∏ªÈ¢ò
            onMounted(() => {
                document.documentElement.classList.toggle('dark-theme', state.isDark);
            });
            const categoryList = [
                { id: '1', label: 'ÂÆûÁî®Â∑•ÂÖ∑', list: navLists },
                { id: '2', label: 'ËÆæËÆ°Á©∫Èó¥', list: designspaces },
                { id: '3', label: 'ÈáäÊîæÂ§ßÊãõ', list: skillLists },
                { id: '4', label: 'ËΩØ‰ª∂‰∏ãËΩΩ', list: softwarelist },
                { id: '5', label: 'Âü∫Á°ÄÊïôÁ®ã', list: studylists },
                { id: '6', label: 'ËÆæËÆ°ËßÑËåÉ', list: designnorm },
                { id: '7', label: 'ÂõæÊ†á‰∏ìÊ†è', list: iconDesigns },
                { id: '8', label: 'ÂèØËßÜËÆæËÆ°', list: viewlist },
                { id: '9', label: 'ÁºñÁ®ãÂ∑•ÂÖ∑', list: devlist },
                { id: '10', label: 'Êï∞ÊçÆ‰∏≠ÂøÉ', list: datalists },
                { id: '11', label: '‰∫ßÂìÅÁªèÁêÜ', list: PMlists },
                { id: '12', label: 'AIÁßëÊäÄ', list: AIlists },
                { id: '13', label: 'SDÊ®°Âûã', list: SDlists },
                { id: '14', label: 'VIPÈÄöÈÅì', list: viplists },
                { id: '15', label: 'MACÂ∑•ÂÖ∑ÁÆ±', list: mactools },
                { id: '16', label: 'ÁΩëÁ´ôÊ¨£Ëµè', list: webLists },
                { id: '17', label: 'Ëá™Â≠¶Á©∫Èó¥', list: selfstudylists }
            ];
            const newName = computed(() => {
                  
            })
            function toggleTheme() {
                state.isDark = !state.isDark;
                localStorage.setItem('theme', state.isDark ? 'dark' : 'light');
                document.documentElement.classList.toggle('dark-theme', state.isDark);
            }
            // ‰øÆÊîπËøáÊª§ÈÄªËæëÈÉ®ÂàÜ
            const filteredCategory = computed(() => 
                categoryList.map(cat => ({
                    ...cat,
                    list: filterList(cat.list, state.input)
                }))
            );
            // Êñ∞Â¢ûÊêúÁ¥¢ÁªìÊûúËÆ°ÁÆóÂ±ûÊÄß
            const searchResults = computed(() => {
                return categoryList.flatMap(cat => 
                    filterList(cat.list, state.input)
                        .flatMap(group => group.children || [])
                );
            });
            // ‰øÆÊîπÂ§ÑÁêÜÊêúÁ¥¢ÁöÑÊñπÊ≥ï
            function handleSearch(val) {
                state.input = val.toLowerCase();
                state.searchlists = searchResults.value;  // Êõ¥Êñ∞ÊêúÁ¥¢ÁªìÊûúÂàóË°®
            }
            
            // Ê∑ªÂä†ËøáÊª§ËÆ°ÁÆóÂ±ûÊÄß
            const filteredLists = Vue.computed(() => ({
                navList: filterList(navLists, state.input),
                designspace: filterList(designspaces, state.input),
                // ÈáçÂ§çÊ∑ªÂä†ÂÖ∂‰ªñÈúÄË¶ÅËøáÊª§ÁöÑÂàóË°®...
                studylist: filterList(studylists, state.input),
                skillList: filterList(skillLists, state.input),
                // ÂÖ∂‰ªñÂàóË°®ËøáÊª§ÈÄªËæëÂêå‰∏ä...
            }));

            // ÂàóË°®ËøáÊª§ÊñπÊ≥ï
            function filterList(list, keyword) {
                if (!keyword) return list;
                return list.filter(group => {
                    return group?.title?.toLowerCase().includes(keyword) ||  // Ê∑ªÂä†ÂèØÈÄâÈìæÊìç‰ΩúÁ¨¶
                        group?.children?.some(item =>  // Ê∑ªÂä†ÂèØÈÄâÈìæÊìç‰ΩúÁ¨¶
                            item?.title?.toLowerCase().includes(keyword) || 
                            item?.desc?.toLowerCase().includes(keyword)
                        );
                }).map(group => ({
                    ...group,
                    children: group.children?.filter(item =>  // Ê∑ªÂä†ÂèØÈÄâÈìæÊìç‰ΩúÁ¨¶
                        item?.title?.toLowerCase().includes(keyword) || 
                        item?.desc?.toLowerCase().includes(keyword)
                    )
                }));
            }
            function handleClick (tab, event) {
                console.log(tab, event)
            }
            function highlightText(text, keyword) {
                if (!keyword || !text) return text;
                const regex = new RegExp(`(${keyword})`, 'gi');
                return text.replace(regex, '<span class="highlight">$1</span>');
            }
            return {
                ...toRefs(state),
                toggleTheme,
                highlightText, // Êö¥Èú≤È´ò‰∫ÆÊñπÊ≥ï
                handleClick,
                handleSearch,  // Êö¥Èú≤ÊêúÁ¥¢ÊñπÊ≥ï
                categoryList: filteredCategory  // Êö¥Èú≤ËøáÊª§ÂêéÁöÑÂàóË°®
            }
        }
    }
    mountApp(App);
</script>
<script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?d7a45917737db687fa00c6addb47e3b2";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
    </script>
    